(()=>{var e={};e.id=974,e.ids=[974],e.modules={597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\code\\\\AI-Event-Agent\\\\frontend\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\AI-Event-Agent\\frontend\\app\\page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},945:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>n});var s=r(2907);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\AI-Event-Agent\\frontend\\components\\auth-context.tsx","AuthProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\AI-Event-Agent\\frontend\\components\\auth-context.tsx","useAuth")},2509:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>i,A:()=>l});var s=r(687),n=r(3210),o=r(9782);process.env.NEXT_PUBLIC_REDIRECT_URI,o.$.Info;let a=(0,n.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,n.useState)(null);(0,n.useEffect)(()=>{},[]);let o=async()=>{},i=async()=>{};return(0,s.jsx)(a.Provider,{value:{token:t,isAuthenticated:!!t,login:o,logout:i},children:e})},l=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useAuth must be within AuthProvider");return e}},2539:(e,t,r)=>{Promise.resolve().then(r.bind(r,9108))},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3887:(e,t,r)=>{Promise.resolve().then(r.bind(r,945))},4415:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},5095:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},6015:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(5239),n=r(8088),o=r(8170),a=r.n(o),i=r(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,597)),"C:\\code\\AI-Event-Agent\\frontend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\code\\AI-Event-Agent\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\code\\AI-Event-Agent\\frontend\\app\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6883:(e,t,r)=>{Promise.resolve().then(r.bind(r,597))},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(7413),n=r(1421),o=r.n(n);r(2704);var a=r(945);let i={title:"KILO EMAIL",description:"Chat interface for AI assistance"};function l({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:o().className,children:(0,s.jsx)(a.AuthProvider,{children:e})})})}},9108:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(687),n=r(3210);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:i,...u},m)=>(0,n.createElement)("svg",{ref:m,...c,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:l("lucide",o),...!a&&!d(u)&&{"aria-hidden":"true"},...u},[...i.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(a)?a:[a]])),m=(e,t)=>{let r=(0,n.forwardRef)(({className:r,...s},a)=>(0,n.createElement)(u,{ref:a,iconNode:t,className:l(`lucide-${o(i(e))}`,`lucide-${e}`,r),...s}));return r.displayName=i(e),r},p=m("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),h=m("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=m("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),v={src:"/_next/static/media/GSHAND_HIRES_WHITE.fd39495e.png"},f=({timestamp:e,className:t=""})=>{let[r,o]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{i(!0),o(e.toLocaleTimeString())},[e]),a)?(0,s.jsx)("span",{className:t,children:r}):(0,s.jsx)("span",{className:t})};var b=r(2509);let g=()=>{let{token:e,isAuthenticated:t,login:r,logout:o}=(0,b.A)(),[a,i]=(0,n.useState)(""),[l,d]=(0,n.useState)([{id:"1",text:"Hello! I'm your Email Assistant. How can I help you today?",isUser:!1,timestamp:new Date}]),[c,u]=(0,n.useState)(!1),m=(0,n.useRef)(null);(0,n.useEffect)(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[l]);let g=async()=>{if(!a.trim())return;let t={id:Date.now().toString(),text:a,isUser:!0,timestamp:new Date};d(e=>[...e,t]),i(""),u(!0);let r="",s="";try{let t=await fetch("/api/n8n",{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:JSON.stringify({query:a,userCredentials:e?{id:"nFRdh6ECDj2XCXiy",name:"Microsoft Outlook account",token:e}:null})});if(!t.ok)throw Error(`HTTP ${t.status} ${t.statusText}`);s=await t.text();let n=JSON.parse(s);r=Array.isArray(n)&&n[0]?.message?.content?.message?n[0].message.content.message:s}catch(e){r=`Error: ${e.message}`,/401|403/.test(e.message)&&(r+=" Please authenticate with Outlook."),console.log("Error details:",e.message,"Raw response:",s)}let n={id:(Date.now()+1).toString(),text:r,isUser:!1,timestamp:new Date};d(e=>[...e,n]),u(!1)};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-[90vw] max-w-4xl mx-auto glass-container fade-in",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10 flex justify-center",children:(0,s.jsx)("img",{src:v.src,alt:"GS Logo",className:"w-1/2 h-auto object-contain"})}),(0,s.jsxs)("div",{className:"h-96 overflow-y-auto p-6 space-y-4 custom-scrollbar",children:[l.map(e=>(0,s.jsx)("div",{className:`flex ${e.isUser?"justify-end":"justify-start"} slide-up`,children:(0,s.jsxs)("div",{className:"flex items-start gap-3 max-w-[80%]",children:[!e.isUser&&(0,s.jsx)("div",{className:"p-2 rounded-full bg-white/10 backdrop-blur-sm",children:(0,s.jsx)(p,{className:"w-4 h-4 text-blue-400"})}),(0,s.jsxs)("div",{className:`message-bubble p-4 whitespace-pre-wrap ${Date.now()-e.timestamp.getTime()<5e3?"message-recent":""}`,children:[e.text,(0,s.jsx)(f,{timestamp:e.timestamp,className:"text-xs text-gray-500 mt-2 self-end"})]}),e.isUser&&(0,s.jsx)("div",{className:"p-2 rounded-full bg-blue-500/20 backdrop-blur-sm",children:(0,s.jsx)(h,{className:"w-4 h-4 text-blue-400"})})]})},e.id)),(0,s.jsx)("div",{ref:m})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-white/10",children:[(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g()},className:"flex items-start gap-4 mb-4",children:[(0,s.jsx)("textarea",{value:a,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())},placeholder:"Type your message...",rows:2,disabled:c,className:"glass-input resize-none flex-1 min-h-[56px] max-h-[96px] p-3 focus:outline-none focus:drop-shadow-[0_0_8px_rgba(59,130,246,1)]"}),(0,s.jsxs)("button",{type:"submit",disabled:c||!a.trim()||!t,className:"glass-button send-button px-10 py-5 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),"Send"]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:t?o:r,className:"glass-button action-button px-10 py-5",children:t?"Sign Out":"Login with Outlook"})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("span",{className:"text-xs text-gray-500",children:t?(0,s.jsx)("span",{className:"text-green-400",children:"✓ Authenticated"}):(0,s.jsx)("span",{className:"text-red-400",children:"⚠ Not signed in"})})})]})]})})},y=()=>(0,s.jsx)("div",{className:"fixed-width-container",children:(0,s.jsx)(g,{})})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9820:(e,t,r)=>{Promise.resolve().then(r.bind(r,2509))}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,314],()=>r(6015));module.exports=s})();